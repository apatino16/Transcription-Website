<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Anny Patino">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Transcription Inc.</title>
        <link rel="shortcut icon" type="image/png" href="favicon_io/favicon-32x32.png">
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://unpkg.com/wavesurfer.js"></script>
        <script type="text/javascript" src="index.js"></script>
    </head>

    <body>
<!--Header-->
        <header>
            <!--NavBar Section-->
            <nav>
                <a href="index.html"><img src="favicon_io/apple-touch-icon.png"></a>
                <div class="nav-links">
                    <ul>
                        <li><a href="./index.html">HOME</a></li>
                        <li><a href="./log-in.html">LOG-IN</a></li>
                        <li><a href="./registration.html"> SIGN UP</a></li>
                        <li><a href="./about.html">ABOUT</a></li>
                        <li><a href="./transcribe.html">TRANSCRIBE</a></li>
                        <li> <input type="button" value="LOG OUT" id="signout-bt"> </li>
                    </ul>
                </div>
            </nav>
        </header>

        <main>
<!--Voice Recording Panel-->
            <div class="Layout-Container">
                <div class="waveform-player">
                    <div id="waveform"></div>
                    <div class="waveform-controls">
                        <span class="controls">
                            <span class="time-label">
                                <span>Current Time:</span>
                                <span>Total Time:</span>
                            </span>
                            <span class="time-value">
                                <span>00:00.000</span>
                                <span>00:00.000</span>
                            </span>
                            <span id='playPause' class="button-group">
                                <i class="fa fa-play-circle-o"></i>
                                <i class="fa fa-pause-circle-o"></i>
                            </span>
                            <span id='stop' class="button-group">
                                <i class="fa fa-stop-circle-o"></i>
                            </span>
                            <span id='mute' class="button-group">
                                <i class="fa fa-volume-up"></i>
                                <i class="fa fa-volume-off"></i>
                            </span>
                            <input type="range" min="0" max="1" step="0.1" value="0.5" class="volume-Slider" id="volume-Slider"/>
                        </span>
                    </div>
                </div>
            </div>
<!--Prompt-->
            <div class="Prompt-Container">
                <h2 class="Prompt-Label">
                    Recording Prompt
                </h2>
                <dd class="Prompt-Textbox">
                    <q class="Prompt-quote">
                        Welcome to Transcription.Inc!<br>
                        <br>
                        In the Transcribe page you can play any of the sample audios 
                        and transcribe it's content in the Transcription box. Please feel free 
                        to annotate the file with any of the tags you see fit whether there was any technical or vocal problems. 
                        At the bottom you will find a text box field to take notes.
                        <br>
                        If there's a bug or the audio doesn't work please Flag it for review. <br>
                        <br>
                        I hope you find it useful!
                    </q>
                </dd>
            </div>

<!--Form Panel-->
            <form action="#" class="Form-style">

                <!--Submission Controls-->
                <div class="Flag">
                    <p>
                        Flag For Review
                    </p>
                    <label>Yes</label>
                    <input type="radio" name="Flag" id="YesFlag" value="True">
                    <label>No</label>
                    <input type="radio" name="Flag" id="NoFlag" value="False">
                    <button id="NextInQueue" onclick="SubmitTranscription()" type="Submit">Next in Queue</button>
                </div>

                <!--Transcription Box-->
                <div class="Transcription-box">
                    <p>
                        Transcription
                    </p>
                    <textarea class="Text-area" tittle="Transcript"></textarea>
                </div>

                <!--Task Tags-->
                <div class="Tags">

                    <!--Task Completion-->
                    <div>
                        <p>
                            Task Completion
                        </p>
                        <div>
                            <p>
                                Contains Speech
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="ContainsSpeech" value="True">
                             <label>No</label>
                            <input type="radio" name="ContainsSpeech" value="False">
                        </div>
                            <p>
                                Background Speech
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="BackgroundSpeech" value="True">
                             <label>No</label>
                            <input type="radio" name="BackgroundSpeech" value="False">
                        <div>
                            <p>
                                Filler Speech
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="FillerSpeech" value="True">
                             <label>No</label>
                            <input type="radio" name="FillerSpeech" value="False">
                        </div>
                    </div>

                    <!--Technical Problems-->
                    <div>
                        <p>
                            Technical Problems
                        </p>
                        <div>
                            <p>
                                Cut Off
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="CutOff" value="True">
                             <label>No</label>
                            <input type="radio" name="CutOff" value="False">
                        </div>
                        <div>
                            <p>
                                Background Noise 
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="BackgroundNoise" value="True">
                             <label>No</label>
                            <input type="radio" name="BackgroundNoise" value="False">
                        </div>
                        <div>
                            <p>
                               Invalid Audio File 
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="Invalid" value="True">
                            <label>No</label>
                            <input type="radio" name="Invalid" value="False">
                        </div>
                    </div>

                    <!--Vocal Problems-->
                    <div>
                        <p>
                            Vocal Problems
                        </p>
                        <div>
                            <p>
                                Unintelligible Words
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="Unintelligible" value="True">
                            <label>No</label>
                            <input type="radio" name="Unintelligible" value="False">
                        </div>
                        <div>
                            <p>
                                Other Throat Sounds
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="ThroatSounds" value="True">
                            <label>No</label>
                            <input type="radio" name="ThroatSounds" value="False">
                        </div>
                        <div>
                            <p>
                                Other Speakers
                            </p>
                            <label>Yes</label>
                            <input type="radio" name="OtherSpeakers" value="True">
                            <label>No</label>
                            <input type="radio" name="OtherSpeakers" value="False">
                        </div>
                    </div>
                </div>

                <!--Notes --->
                <div class="Notes">
                    <p>
                        Notes
                    </p>
                    <textarea class="Notes-text-area" tittle="Notes"></textarea>
                </div>
            </form>
            <pre id="log">

            </pre>
        </main>
         

<!-- Footer-->
        <footer>
            <h4 class="footer-title">2022 Transcription Inc.</h4>
            <div class="icons">
                <a href="https://www.facebook.com/"><i class="fa fa-facebook"></i></a> 
                <a href="https://twitter.com/"><i class="fa fa-twitter"></i></a>
                <a href="https://www.instagram.com/"><i class="fa fa-instagram" ></i></a>
                <a href="https://www.linkedin.com/"><i class="fa fa-linkedin" ></i></a>
            </div>
            <p>Made by Anny Patino</p>
        </footer>

    </body>

    <script>
        //wavesurfer.js
        /* This is a function that is called when the DOM is loaded. It creates a new instance of the
        WaveSurfer object and loads the audio file. */
        window.addEventListener('DOMContentLoaded', () => {
            var wavesurfer = WaveSurfer.create({
                container: '#waveform',
                scrollParent: true,
                backgroundColor: 'white',
                cursorColor: '#333',
                progressColor: 'lightblue',
                waveColor: 'lightgrey',
                barWidth: 3,
                barRadius: 3,
        });

        /* Loading the audio file into the waveform. */
        wavesurfer.load('audioSample/LJ001-0001.wav');
            const playPause = document.getElementById('playPause');
            const stop = document.getElementById('stop');
            const mute = document.getElementById('mute');
            const volumeSlider = document.getElementById('volume-Slider');

        /* This is an event listener that listens for a click on the playPause button. When the button is
        clicked, the playPause function is called. If the audio is playing, the playPause button is
        given the class "playing". If the audio is not playing, the playPause button is given the class
        "playing". In other words, I can click play to start listening to the audio, and symoultanously
        the icon will change into the pause button allowing me to click pause at anytime. If pause is clicked,
        the icon will chenge into the play button for when the user is ready to continue playing
        the audio. This will hopefully help with an intuitive use of the audio controls.*/
        playPause === null || playPause === void 0 ? void 0 : playPause.addEventListener('click', () => {
            wavesurfer.playPause();
            if (wavesurfer.isPlaying()) {
                playPause.classList.add("playing");
            } else {
                playPause.classList.remove("playing");
            }
        });

        stop === null || stop === void 0 ? void 0 : stop.addEventListener('click', () => {
            wavesurfer.stop();
            playPause === null || playPause === void 0 ? void 0 : playPause.classList.remove("playing");
        });

        volumeSlider === null || volumeSlider === void 0 ? void 0 : volumeSlider.addEventListener("mouseup", () => {
            changeVolume(volumeSlider.value);
        });

        const changeVolume = (volume) => {
            if (volume == 0) {
                mute === null || mute === void 0 ? void 0 : mute.classList.add("muted");
            } else {
                mute === null || mute === void 0 ? void 0 : mute.classList.remove("muted");
            }
            wavesurfer.setVolume(volume);
        };

        mute === null || mute === void 0 ? void 0 : mute.addEventListener('click', () => {
            if (mute.classList.contains("muted")) {
                mute.classList.remove("muted");
                wavesurfer.setVolume(0.5);
                volumeSlider.value = 0.5;
            } else {
                wavesurfer.setVolume(0);
                mute.classList.add("muted");
                volumeSlider.value = 0;
            }
        });
    });
    </script>

</html>



